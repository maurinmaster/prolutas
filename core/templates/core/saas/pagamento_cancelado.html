{% extends 'core/saas/base_saas.html' %}
{% load static %}

{% block title %}Pagamento Cancelado - ProLutas SaaS{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow border-warning">
                <div class="card-header bg-warning text-dark text-center">
                    <div class="mb-3">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem;"></i>
                    </div>
                    <h3 class="mb-0">Pagamento Cancelado</h3>
                </div>
                
                <div class="card-body text-center">
                    <h4 class="text-warning mb-4">Ops! Algo deu errado</h4>
                    
                    <p class="lead mb-4">
                        O pagamento para a academia <strong>{{ academia.nome }}</strong> foi cancelado ou não pôde ser processado.
                    </p>
                    
                    <div class="alert alert-info">
                        <h6 class="alert-heading">
                            <i class="fas fa-info-circle me-2"></i>
                            O que aconteceu?
                        </h6>
                        <p class="mb-0">
                            Possíveis motivos para o cancelamento:
                        </p>
                        <ul class="text-start mt-2 mb-0">
                            <li>Pagamento cancelado pelo usuário</li>
                            <li>Dados do cartão incorretos ou inválidos</li>
                            <li>Limite do cartão insuficiente</li>
                            <li>Problema temporário com o processador de pagamentos</li>
                            <li>Conexão interrompida durante o processo</li>
                        </ul>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-title">
                                        <i class="fas fa-building me-2 text-primary"></i>
                                        Academia Criada
                                    </h6>
                                    <p class="mb-1"><strong>Nome:</strong> {{ academia.nome }}</p>
                                    <p class="mb-1"><strong>Slug:</strong> {{ academia.slug }}</p>
                                    <p class="mb-0"><strong>Status:</strong> <span class="badge bg-warning">Aguardando Pagamento</span></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-title">
                                        <i class="fas fa-clock me-2 text-primary"></i>
                                        Próximos Passos
                                    </h6>
                                    <p class="mb-1">✅ Academia criada</p>
                                    <p class="mb-1">❌ Pagamento pendente</p>
                                    <p class="mb-0">⏳ Aguardando ativação</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-success">
                        <h6 class="alert-heading">
                            <i class="fas fa-lightbulb me-2"></i>
                            Boa Notícia!
                        </h6>
                        <p class="mb-0">
                            Sua academia já foi criada no sistema. Você pode tentar o pagamento novamente 
                            ou entrar em contato conosco para resolver qualquer problema.
                        </p>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <h5 class="mb-3">O que você pode fazer agora?</h5>
                            
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <div class="card h-100 border-primary">
                                        <div class="card-body text-center">
                                            <i class="fas fa-redo text-primary mb-3" style="font-size: 2rem;"></i>
                                            <h6>Tentar Novamente</h6>
                                            <p class="small text-muted">Refaça o processo de pagamento</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <div class="card h-100 border-info">
                                        <div class="card-body text-center">
                                            <i class="fas fa-headset text-info mb-3" style="font-size: 2rem;"></i>
                                            <h6>Falar com Suporte</h6>
                                            <p class="small text-muted">Nossa equipe pode ajudar</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <div class="card h-100 border-success">
                                        <div class="card-body text-center">
                                            <i class="fas fa-credit-card text-success mb-3" style="font-size: 2rem;"></i>
                                            <h6>Outro Método</h6>
                                            <p class="small text-muted">Tente outro cartão ou método</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-4">
                        <a href="{% url 'pagamento' %}?academia={{ academia.slug }}" class="btn btn-primary btn-lg me-md-2">
                            <i class="fas fa-redo me-2"></i>
                            Tentar Pagamento Novamente
                        </a>
                        <a href="/contato/" class="btn btn-outline-info btn-lg me-md-2">
                            <i class="fas fa-headset me-2"></i>
                            Falar com Suporte
                        </a>
                        <a href="/planos/" class="btn btn-outline-secondary btn-lg">
                            <i class="fas fa-arrow-left me-2"></i>
                            Voltar aos Planos
                        </a>
                    </div>
                </div>
                
                <div class="card-footer bg-light text-center">
                    <small class="text-muted">
                        <i class="fas fa-shield-alt me-2"></i>
                        Seus dados estão seguros. Nenhuma cobrança foi realizada.
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Ajuda -->
<div class="modal fade" id="modalAjuda" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">
                    <i class="fas fa-question-circle me-2"></i>
                    Precisa de Ajuda?
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <h6>Formas de Contato:</h6>
                
                <div class="list-group list-group-flush">
                    <a href="mailto:suporte@prolutas.com" class="list-group-item list-group-item-action">
                        <i class="fas fa-envelope text-primary me-3"></i>
                        <strong>Email:</strong> suporte@prolutas.com
                    </a>
                    <a href="tel:+5511999999999" class="list-group-item list-group-item-action">
                        <i class="fas fa-phone text-success me-3"></i>
                        <strong>Telefone:</strong> (11) 99999-9999
                    </a>
                    <a href="#" class="list-group-item list-group-item-action">
                        <i class="fab fa-whatsapp text-success me-3"></i>
                        <strong>WhatsApp:</strong> (11) 99999-9999
                    </a>
                </div>
                
                <div class="alert alert-info mt-3 mb-0">
                    <small>
                        <i class="fas fa-clock me-2"></i>
                        <strong>Horário de Atendimento:</strong> Segunda a Sexta, 9h às 18h
                    </small>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                <a href="/contato/" class="btn btn-primary">Página de Contato</a>
            </div>
        </div>
    </div>
</div>

<script>
// Mostrar modal de ajuda se o usuário ficar na página por mais de 10 segundos
setTimeout(() => {
    const modal = new bootstrap.Modal(document.getElementById('modalAjuda'));
    modal.show();
}, 10000);
</script>
{% endblock %}